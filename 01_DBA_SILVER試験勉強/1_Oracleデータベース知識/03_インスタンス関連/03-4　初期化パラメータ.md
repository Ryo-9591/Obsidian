# Oracle初期化パラメータ

初期化パラメータは、Oracleデータベースの動作を制御する重要な設定項目です。これらのパラメータは、データベースの起動時に読み込まれ、インスタンスの動作を決定します。

## 初期化パラメータの種類

### 1. 動的変更不可の初期化パラメータ
データベースの再起動が必要なパラメータです。

| パラメータ名 | 説明 |
|------------|------|
| CONTROL_FILES | 制御ファイルの場所を指定 |
| DB_BLOCK_SIZE | データベースブロックサイズを指定 |
| DB_nK_CACHE_SIZE | 非標準ブロックサイズのバッファキャッシュサイズを指定 |
| DB_DOMAIN | データベースのドメイン名を指定 |
| DB_NAME | データベース名を指定 |
| LOG_BUFFER | ログバッファのサイズを指定 |
| MEMORY_MAX_TARGET | メモリ自動管理の最大サイズを指定 |
| OS_AUTHENT_PREFIX | OS認証のプレフィックスを指定 |
| PROCESSES | 同時接続可能なプロセス数を指定 |
| SGA_MAX_SIZE | SGAの最大サイズを指定 |
| UNDO_MANAGEMENT | UNDO管理モードを指定 |

### 2. 動的変更可能な初期化パラメータ
データベースの再起動なしで変更可能なパラメータです。

| パラメータ名 | 説明 |
|------------|------|
| DB_CACHE_SIZE | 標準ブロックサイズのバッファキャッシュサイズを指定 |
| DB_RECOVERY_FILE_DEST | フラッシュリカバリ領域の場所を指定 |
| DB_RECOVERY_FILE_DEST_SIZE | フラッシュリカバリ領域のサイズを指定 |
| DEFERRED_SEGMENT_CREATION | セグメントの遅延作成を制御 |
| DIAGNOSTIC_DEST | 診断ファイルの保存場所を指定 |
| DISPATCHERS | 共有サーバー用のディスパッチャ数を指定 |
| JAVA_POOL_SIZE | Javaプールのサイズを指定 |
| LARGE_POOL_SIZE | ラージプールのサイズを指定 |
| LOCAL_LISTENER | ローカルリスナーのアドレスを指定 |
| MEMORY_TARGET | メモリ自動管理のターゲットサイズを指定 |
| NLS_DATE_FORMAT | 日付フォーマットを指定 |
| NLS_LANGUAGE | 言語設定を指定 |
| NLS_TERRITORY | 地域設定を指定 |
| PGA_AGGREGATE_TARGET | PGAの合計サイズを指定 |
| RESUMABLE_TIMEOUT | 再開可能な操作のタイムアウト時間を指定 |
| SHARED_POOL_SIZE | 共有プールのサイズを指定 |
| SHARED_SERVERS | 共有サーバープロセスの数を指定 |
| SGA_TARGET | SGAのターゲットサイズを指定 |
| UNDO_RETENTION | UNDOデータの保持時間を指定 |
| UNDO_TABLESPACE | UNDO表領域を指定 |

## 初期化パラメータの確認方法

```sql
-- すべての初期化パラメータを表示
SHOW PARAMETER;

-- 特定のパラメータを検索
SHOW PARAMETER DB_CACHE_SIZE;

-- V$PARAMETERビューから詳細情報を取得
SELECT name, value, description 
FROM v$parameter 
WHERE name LIKE '%CACHE%';
```

## 初期化パラメータの変更方法

### 動的変更可能なパラメータの変更
```sql
ALTER SYSTEM SET parameter_name = value [SCOPE = {MEMORY|SPFILE|BOTH}];
```

### 動的変更不可のパラメータの変更
1. SPFILEを編集
2. データベースを再起動

```sql
-- SPFILEの作成（存在しない場合）
CREATE SPFILE FROM PFILE;

-- SPFILEからPFILEの作成
CREATE PFILE FROM SPFILE;
```

# SPFILE、PFILE
初期化パラメータを設定するファイル
## SPFILE(サーバパラメータファイル)
・バイナリ形式
・「ALTER SYSTEM SET文」で設定値を変更可能
・「<ORACLE_HOME>./dba/spfile<ORACLE_SID>.ora」
## PFILE
・テキスト形式
・テキストエディタで手動で編集するしかない
・「<ORACLE_HOME>/dba/init<ORACLE_SID>.ora」

※spfileとpfileが両方存在する場合spfileが優先される
# 初期化パラメータの変更
ALTER SYSTEM SET文を使用して初期化パラメータの変更ができる
## ALTER SYSTEM SET <パラメータ名> = 設定値
現行インスタンス、SPFILEに反映
## ALTER SYSTEM SET <パラメータ名> = 設定値 SCORE = SPFILE
SPFILEのみに反映→再起動時にインスタンスへ反映
## ALTER SYSTEM SET <パラメータ名> = 設定値 SCOPE = MEMORY
現行インスタンスのみに反映
※PFILE使用時は再起動しても反映されない
## ALTER SYSTEM SET <パラメータ名> = 設定値 SCORE = BOTH
現行インスタンス、SPFILEに反映
※デフォルトこれ(SPFILE使用時は)

※セッションレベルで初期化パラメータの変更をする場合は「ALTER SESSION SET文」
# 主な初期化パラメータ

## 動的変更不可の初期化パラメータ
### CONTROL_FILES
### DB_BLOCK_SIZE
### DB_nK_CACHE_SIZE
### DB_DOMAIN
### DB_NAME
### LOG_BUFFER
### MEMORY_MAX_TARGET
### OS_AUTHENT_PREFIX
### PROCESSES
### SGA_MAX_SIZE
### UNDO_MANAGEMENT

## 動的変更可能初期化パラメータ
### DB_CACHE_SIZE
### DB_RECOVERY_FILE_DEST
### DB_RECOVERY_FILE_DEST_SIZE
### DEFERRED_SEGMENT_CREATION
### DIAGNOSTIC_DEST
### DISPATCHERS
### JAVA_POOL_SIZE
### LARGE_POOL_SIZE
### LOCAL_LISTENER
### MEMORY_TARGET
### NLS_DATE_FORMAT
### NLS_LANGUAGE
### NLS_TERRITORY
### PGA_AGGREGATE_TARGET
### RESUMABLE_TIMEOUT
### SHARED_POOL_SIZE
### SHARED_SERVERS
### SGA_TARGET
### UNDO_RETENTION
### UNDO_TABLESPACE
