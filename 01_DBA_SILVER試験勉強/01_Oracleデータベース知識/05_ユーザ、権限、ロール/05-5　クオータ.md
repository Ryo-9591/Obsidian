# クオータ管理

## 1. 概要
クオータは、ユーザーが使用できる表領域の容量を制限する仕組みです。

## 2. 基本設定

### 2.1 クオータの指定
```sql
-- 制限付きクオータ
QUOTA 10M ON tbs01    -- tbs01に最大10MB

-- 無制限クオータ
QUOTA UNLIMITED ON tbs02    -- tbs02に無制限
```

### 2.2 制限事項
- 永続表領域のみに設定可能
- 一時表領域には設定不可
- UNDO表領域には設定不可

## 3. 特殊なケース

### 3.1 遅延セグメント作成
- クオータ未設定の表領域でもテーブル作成可能
- データ挿入時にエラー発生
- 注意：事前にクオータを設定することを推奨

### 3.2 UNLIMITED TABLESPACE権限
- すべての表領域に無制限アクセス可能
- システム権限として付与
- ロールには付与不可

## 4. クオータの管理

### 4.1 クオータの確認
```sql
-- ユーザーのクオータ情報を確認
SELECT * FROM DBA_TS_QUOTAS;

-- 特定のユーザーのクオータ情報を確認
SELECT * FROM DBA_TS_QUOTAS WHERE USERNAME = 'USER01';
```

### 4.2 クオータの変更
```sql
-- クオータの追加
ALTER USER user01 QUOTA 20M ON tbs01;

-- クオータの削除
ALTER USER user01 QUOTA 0 ON tbs01;
```

## 5. ベストプラクティス

### 5.1 推奨事項
- 適切なクオータ設定によるリソース管理
- 定期的な使用状況の監視
- 必要に応じたクオータの調整

### 5.2 注意点
- クオータ超過時のエラーハンドリング
- 一時表領域の適切なサイズ設定
- システム全体のリソース管理との整合性