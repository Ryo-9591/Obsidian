# プライベート一時表
セッションごとに独立した表定義になり、使用後は自動的にデータと表定義が削除される
→セッションごとに異なる表定義の一時表が作成できる
## プライベート一時表の作成
### トランザクション終了時に削除される一時表
`CREATE PRIVATE TEMPORARY TABLE ora$ptt_temp_sales`
`(`
  `sale_id   NUMBER,`
  `sale_amt  NUMBER`
`)`
`ON COMMIT DROP DEFINITION;`
### セッション終了時に削除される一時表
`CREATE PRIVATE TEMPORARY TABLE ora$ptt_temp_sales`
`(`
  `sale_id   NUMBER,`
  `sale_amt  NUMBER`
`)`
`ON COMMIT DROP DEFINITION;`





## 利点
・そのセッションからのみ参照可能
・使用終了したら自動的に削除される
・複数セッションで同時利用が可能
・データをプライベートにできる
・REDOの生成量を減らしI/O負荷を削減
# グローバル一時表

CREATE GLOBAL TEMPORARY TABLE temp_orders (customer_id NUMBER(4), product_id NUMBER(4), quantity NUMBER (3))  
ON COMMIT PRESERVE ROWS;

この情報からわかることは・・・
①定義情報はデータディクショナリに永久保存される(グローバル一時表なので)
②ユーザは全セッションから表定義を参照できる
③データ参照は格納したセッションのみ
④セッション終了時にデータが自動的に削除される
→ON COMMIT PRESERVE ROWSを指定しているため

ON COMMIT DELETE ROWS
→トランザクション終了時にデータが削除