# 制約

①NOT NULLは列制約構文で設定する必要がある
②CHECK制約は変更された表の値のみを参照する
③索引が自動で作成されるのは主キー制約と一意制約のみ
④索引に設定したい列にすでに索引があるときはUSING INDEXで索引の再利用ができる
# ALTER TABLE DISABLE CONSTRAINT文

CREATE TABLE locations  
(location_id NUMBER (3) CONSTRAINT location_pk PRIMARY KEY, region VARCHAR2(20) );  
CREATE TABLE dept  
(dept_id NUMBER (3) CONSTRAINT dept_pk PRIMARY KEY, location_id NUMBER(3)  
CONSTRAINT dept_fk REFERENCES locations (location_id) );

この情報からわかることは・・・
①CONSTRAINT dept_fk REFERENCES locations (location_id)
→外部キーdept_pkが主キーlocation_idに依存している

②主キー制約を無効にするにはCASCADEを指定してALTER TABLE DISABLE CONSTRAINT文が必要 

---
# グローバル一時表

CREATE GLOBAL TEMPORARY TABLE temp_orders (customer_id NUMBER(4), product_id NUMBER(4), quantity NUMBER (3))  
ON COMMIT PRESERVE ROWS;

この情報からわかることは・・・
①定義情報はデータディクショナリに永久保存される(グローバル一時表なので)
②ユーザは全セッションから表定義を参照できる
③データ参照は格納したセッションのみ
④セッション終了時にデータが自動的に削除される
→ON COMMIT PRESERVE ROWSを指定しているため

ON COMMIT DELETE ROWS
→トランザクション終了時にデータが削除
