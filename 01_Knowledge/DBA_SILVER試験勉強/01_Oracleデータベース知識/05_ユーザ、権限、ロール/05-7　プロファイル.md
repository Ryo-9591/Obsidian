# プロファイル管理

## 1. 概要
プロファイルは、パスワード管理ポリシーとリソース制限をセットにしたものです。デフォルトでは「DEFAULTプロファイル」が割り当てられます。

## 2. パスワード管理ポリシー

### 2.1 アカウントロック関連
- `FAILED_LOGIN_ATTEMPTS`: ログイン失敗回数の制限
- `PASSWORD_LOCK_TIME`: アカウントロックの期間（日数）
- `INACTIVE_ACCOUNT_TIME`: 未使用アカウントのロックされるまでの期間
### 2.2 パスワード有効期限
- `PASSWORD_LIFE_TIME`: パスワードの有効期間
- `PASSWORD_GRACE_TIME`: パスワード期限切れ後の猶予期間
### 2.3 パスワード履歴
- `PASSWORD_REUSE_TIME`: パスワード再使用までの期間
- `PASSWORD_REUSE_MAX`: パスワード再使用までの変更回数
- `PASSWORD_VERIFY_FUNCTION`: パスワード複雑性チェック関数

## 3. リソース制限

### 3.1 CPU制限
- `CPU_PER_SESSION`: セッションあたりのCPU時間（1/100秒）
- `CPU_PER_CALL`: 呼び出しあたりのCPU時間（1/100秒）
### 3.2 時間制限
- `CONNECT_TIME`: セッション接続時間（分）
- `IDLE_TIME`: アイドル時間（分）
### 3.3 セッション制限
- `SESSIONS_PER_USER`: ユーザーあたりの最大セッション数
- `PRIVATE_SGA`: 共有サーバー接続時のUGA最大サイズ
### 3.4 I/O制限
- `LOGICAL_READS_PER_SESSION`: セッションあたりの論理I/O数
- `LOGICAL_READS_PER_CALL`: 呼び出しあたりの論理I/O数
### 3.5 複合制限
- `COMPOSITE_LIMIT`: 複合コスト制限
  - CPU_PER_SESSION
  - LOGICAL_READS_PER_SESSION
  - CONNECT_TIME
  - PRIVATE_SGA
## 4. プロファイルの管理
### 4.1 プロファイルの作成
```sql
CREATE PROFILE security_profile LIMIT
  FAILED_LOGIN_ATTEMPTS 5
  PASSWORD_LIFE_TIME 90
  PASSWORD_GRACE_TIME 7
  PASSWORD_REUSE_TIME 365
  PASSWORD_REUSE_MAX 10
  CPU_PER_SESSION 10000
  CONNECT_TIME 60
  IDLE_TIME 30
  SESSIONS_PER_USER 3;
```
### 4.2 プロファイルの変更
```sql
ALTER PROFILE security_profile LIMIT
  PASSWORD_LIFE_TIME 60
  FAILED_LOGIN_ATTEMPTS 3;
```
### 4.3 プロファイルの割り当て
```sql
ALTER USER user1 PROFILE security_profile;
```
## 5. ベストプラクティス
### 5.1 推奨設定
- 適切なパスワードポリシーの設定
- リソース制限の段階的な適用
- 定期的な設定の見直し

### 5.2 注意点
- 過度な制限による運用への影響
- パフォーマンスへの影響
- ユーザーへの影響
- 監視と調整の必要性