# Oracle初期化パラメータ
初期化パラメータは、Oracleデータベースの動作を制御する重要な設定項目です。
これらのパラメータは、データベースの起動時に読み込まれ、インスタンスの動作を決定します。
## 1. 初期化パラメータファイルの種類
### SPFILE（サーバパラメータファイル）
- バイナリ形式のファイル
- 場所：`<ORACLE_HOME>/dbs/spfile<ORACLE_SID>.ora`
- 特徴：
  - `ALTER SYSTEM SET`文で動的に変更可能
  - データベースの再起動後も設定が保持される
  - 推奨される設定ファイル
### PFILE（パラメータファイル）
- テキスト形式のファイル
- 場所：`<ORACLE_HOME>/dbs/init<ORACLE_SID>.ora`
- 特徴：
  - テキストエディタで手動編集が必要
  - データベースの再起動時に読み込まれる
> **注意**: SPFILEとPFILEが両方存在する場合、SPFILEが優先されます。
## 2. 初期化パラメータの変更方法
### システムレベルでの変更
```sql
-- 現行インスタンスとSPFILEの両方に反映（デフォルト）
ALTER SYSTEM SET parameter_name = value;

-- SPFILEのみに反映（再起動時に反映）
ALTER SYSTEM SET parameter_name = value SCOPE = SPFILE;

-- 現行インスタンスのみに反映
ALTER SYSTEM SET parameter_name = value SCOPE = MEMORY;

-- 現行インスタンスとSPFILEの両方に反映
ALTER SYSTEM SET parameter_name = value SCOPE = BOTH;
```
### セッションレベルでの変更
```sql
-- 現在のセッションのみに反映
ALTER SESSION SET parameter_name = value;
```
## 3. 初期化パラメータの種類と説明
### 3.1 動的変更不可の初期化パラメータ
データベースの再起動が必要なパラメータです。

| パラメータ名            | 説明                         |
| ----------------- | -------------------------- |
| CONTROL_FILES     | 制御ファイルの場所を指定               |
| DB_BLOCK_SIZE     | データベースブロックサイズを指定           |
| DB_nK_CACHE_SIZE  | 非標準ブロックサイズのバッファキャッシュサイズを指定 |
| DB_DOMAIN         | データベースのドメイン名を指定            |
| DB_NAME           | データベース名を指定                 |
| LOG_BUFFER        | ログバッファのサイズを指定              |
| MEMORY_MAX_TARGET | メモリ自動管理の最大サイズを指定           |
| OS_AUTHENT_PREFIX | OS認証のプレフィックスを指定            |
| PROCESSES         | 同時接続可能なプロセス数を指定            |
| SGA_MAX_SIZE      | SGAの最大サイズを指定               |
| UNDO_MANAGEMENT   | UNDO管理モードを指定               |

### 3.2 動的変更可能な初期化パラメータ
データベースの再起動なしで変更可能なパラメータです。

| パラメータ名 | 説明 |
|------------|------|
| DB_CACHE_SIZE | 標準ブロックサイズのバッファキャッシュサイズを指定 |
| DB_RECOVERY_FILE_DEST | フラッシュリカバリ領域の場所を指定 |
| DB_RECOVERY_FILE_DEST_SIZE | フラッシュリカバリ領域のサイズを指定 |
| DEFERRED_SEGMENT_CREATION | セグメントの遅延作成を制御 |
| DIAGNOSTIC_DEST | 診断ファイルの保存場所を指定 |
| DISPATCHERS | 共有サーバー用のディスパッチャ数を指定 |
| JAVA_POOL_SIZE | Javaプールのサイズを指定 |
| LARGE_POOL_SIZE | ラージプールのサイズを指定 |
| LOCAL_LISTENER | ローカルリスナーのアドレスを指定 |
| MEMORY_TARGET | メモリ自動管理のターゲットサイズを指定 |
| NLS_DATE_FORMAT | 日付フォーマットを指定 |
| NLS_LANGUAGE | 言語設定を指定 |
| NLS_TERRITORY | 地域設定を指定 |
| PGA_AGGREGATE_TARGET | PGAの合計サイズを指定 |
| RESUMABLE_TIMEOUT | 再開可能な操作のタイムアウト時間を指定 |
| SHARED_POOL_SIZE | 共有プールのサイズを指定 |
| SHARED_SERVERS | 共有サーバープロセスの数を指定 |
| SGA_TARGET | SGAのターゲットサイズを指定 |
| UNDO_RETENTION | UNDOデータの保持時間を指定 |
| UNDO_TABLESPACE | UNDO表領域を指定 |

## 4. 初期化パラメータの確認方法

```sql
-- すべての初期化パラメータを表示
SHOW PARAMETER;

-- 特定のパラメータを検索
SHOW PARAMETER DB_CACHE_SIZE;

-- V$PARAMETERビューから詳細情報を取得
SELECT name, value, description 
FROM v$parameter 
WHERE name LIKE '%CACHE%';
```
## 5. SPFILEとPFILEの相互変換

```sql
-- SPFILEの作成（存在しない場合）
CREATE SPFILE FROM PFILE;

-- SPFILEからPFILEの作成
CREATE PFILE FROM SPFILE;
```
